var warjs=function(){function t(t,i){$("html, body").animate({scrollTop:$(t).offset().top-i},1e3)}function i(t,i,e){window.setTimeout(function(){t.obj.addClass(i)},e)}function e(t,i,e){window.setTimeout(function(){t.obj.removeClass(i)},e)}function a(t,i,e){window.setTimeout(function(){"function"==typeof window[i]&&window[i](t)},e)}function o(){var t;for(var o in g){t=0;var n=parseInt(p(g[o].delay)),r=parseInt(p(g[o].limit)),s=g[o],l=s.name;t="self"===s.point?g[o].obj.offset().top:parseInt(p(s.point)),"pin"===s.type?f>=t+r?s.obj.hasClass(l)||s.obj.addClass(l):s.obj.hasClass(l)&&s.obj.removeClass(l):f+y>=t+r&&("addClass"===s.type?i(s,l,n):"removeClass"===s.type?e(s,l,n):a(s,l,n),delete g[o])}d=null;for(var m in w){t=0;var u=parseInt(p(w[m].limit));$(w[m].target).offset()?(t=$(w[m].target).offset().top,f>=t-u&&(d=w[m])):console.log("Falha no id: ",w[m].target)}d?d!==c&&(c&&c.obj.removeClass(c["class"]),d.obj.addClass(d["class"]),c=d,d=null):c&&(c.obj.removeClass(c["class"]),c=null);for(var v in b){var j,x,I=b[v].obj,W=b[v].target,T=b[v].porc[0],O=b[v].porc[1],J=b[v].vars[0],S=b[v].vars[1],_=p(J),A=p(S),M=b[v].prefix,F=b[v].typevar,L=b[v].toplimit,k=b[v].bottomlimit,B=b[v].debug,q=b[v].idobj;b[v].parent&&(j=$(b[v].parent),H=j.width(),N=j.innerWidth(),C=j.height(),z=j.innerHeight()),""===F&&(J.indexOf("px")>0?F="px":J.indexOf("%")>0&&(F="%"));var D=0;""!==L&&(isNaN(L)?"true"===L&&(D=h):D=L);var E=0;""!==k&&(isNaN(k)?"true"===k&&(E=h):E=k);var G,K,P,Q,R;if(b[v].parent?j.offset()?(G=j.outerHeight(),K=j.offset().top-D,P=f-K):console.log("Não foi possível detectar o parent "+b[v].parent):(G=I.outerHeight(),K=I.offset().top-D,P=f-K),Q=G+Number(D)-Number(E),R=100*P/Q,R<=T&&(x=_),R>=0&&R<=100&&R>=T&&R<=O){var U=R-T;x=_+(A-_)*U/(O-T)}R>=O&&(x=A);for(var V=W.split(","),X={},Y=0;Y<V.length;Y++)I.css(V[Y])!==x+F&&(X[V[Y]]=M+x+F,I.css(V[Y],M+x+F));B&&($("#debugtop_obj"+q).css("top",K+"px"),$("#debugbottom_obj"+q).css("top",K+Q+"px"))}}function n(){y=h=$(window).height(),x=u=$(window).width();var t;for(var i in v){var e=v[i].obj;if(v[i].height){var a=parseInt(p(v[i].height));a||$(v[i].height).length&&(a=$(v[i].height).outerHeight(!0)),t=a,v[i].limitH&&v[i].limitH>a&&(t=v[i].limitH),e.height(t)}if(v[i].width){var n=parseInt(p(v[i].width)),r=n;v[i].limitW&&v[i].limitW>n&&(r=v[i].limitH),e.width(t)}}o()}function r(){f=$(document).scrollTop(),o()}function s(t,i,e,a,o,n,r,s,l,p){var m={obj:t,idobj:j,target:i,porc:e,vars:a,parent:o,toplimit:n,bottomlimit:r,typevar:s,prefix:l,debug:p};t.attr("data-war-name","obj"+j),b["obj"+j]=m,j++}function l(t){return new Function("return "+t)()}function p(t){t=t.replace("$screenHeight",y).replace("$screenWidth",x).replace("$parentWidth",H).replace("$parentHeight",C).replace("$parentWidthIn",N).replace("$parentHeightIn",z);try{return l(t)}catch(i){return t}}function m(){$("[data-war-shot]").each(function(){var t=$(this),i=t.data("war-shot"),e=JSON.parse(I(i)),a=0,o=0,r="addClass";e.limit&&(a=e.limit),e.type&&(r=e.type),e.delay&&(o=e.delay);var s={};if("object"==typeof r)for(var l in r)s={obj:t,name:r[l],point:e.point,limit:a,delay:o,type:l},g["obj"+j]=s,j++;else s={obj:t,name:e.name,point:e.point,limit:a,delay:o,type:r},g["obj"+j]=s,j++;n()}),$("[data-war-menu]").each(function(){var i=$(this),e=JSON.parse(I(i.data("war-menu"))),a=0,o=0,r="active";e.limit&&(a=e.limit),e.limitMove&&(o=e.limitMove),e["class"]&&(r=e["class"]);var s={obj:i,"class":r,target:e.target,limit:a,limitMove:o};$(this).attr("href")&&i.attr("href","javascript:void(0)"),i.on("click",function(){t(e.target,o)}),w["obj"+j]=s,j++,n()}),$("[data-war-size]").each(function(){var t=$(this),i=JSON.parse(I(t.data("war-size"))),e={obj:t,height:i.height,width:i.width,limitH:i.limitH,limitW:i.limitW};v["obj"+j]=e,j++,n()}),$("[data-war]").each(function(){var t=$(this),i=JSON.parse(I(t.data("war"))),e=i.parent,a=!1,o=!1,n="",r="",l=!1;if(i.toplimit&&(a=i.toplimit),i.bottomlimit&&(o=i.bottomlimit),i.debug&&(l=i.debug),$.isArray(i.animate[0]))for(var p=0;p<i.animate.length;p++)i.animate[p][3]&&(n=i.animate[p][3]),i.animate[p][4]&&(r=i.animate[p][4]),s(t,i.animate[p][0],i.animate[p][1],i.animate[p][2],e,a,o,n,r,l);else i.animate[3]&&(n=i.animate[3]),i.animate[4]&&(r=i.animate[4]),s(t,i.animate[0],i.animate[1],i.animate[2],e,a,o,n,r,l);if(l){var m=t.data("war-name");$("body").prepend('<div id="debugtop_'+m+'" style="z-index:999; font-family:Arial;font-size: 12px; position: absolute; top: 10px; right: 10px;color: red;border-bottom: 1px solid red;    margin-top: -14px;">Limit Top - '+m+"</div>"),$("body").prepend('<div id="debugbottom_'+m+'" style="z-index:999; font-family:Arial;font-size: 12px; position: absolute; top: 30px; right: 10px;color: green;border-bottom: 1px solid green;    margin-top: -14px;">Limit Bottom - '+m+"</div>")}}),o()}var d,c,f=0,h=0,u=0,b={},v={},g={},w={},j=0,y=0,x=0,H=0,C=0,N=0,z=0,I=function(t){return t.replace(/([\$\w]+)\s*:/g,function(t,i){return'"'+i+'":'}).replace(/'([^']+)'/g,function(t,i){return'"'+i+'"'})};this.mount=function(){m()},this.moveTo=function(i,e){t(i,e)},this.resize=function(){n()},$(window).scroll(r),$(window).resize(n),r(),n(),o()};